# メニューとアクション

## アクティビティメニュー

共有シートとも呼ばれ、現在のコンテキストで実行できる様々なタスクを表示する。

<img src="../../../Image/Human Interface Guideline/Components/Menu/ActivityView.png" width=80%>

### ベストプラクティス

1. すでに利用できる一般的なアクションと重複するアクションを作らない
2. カスタムのアクティビティをシンボルで表現することを検討する(SF Symbols 70✖︎70)
3. カスタムアクションごとに簡潔でわかりやすいタイトルを付ける
4. 現在のコンテキストに適したアクティビティであることを確認する
5. アクティビティビューは「共有」ボタンからのみ表示する

### 共有機能拡張とアクション機能拡張

1. 必要に応じて、ユーザーが使いやすいと感じるカスタムインターフェイスを作成する
2. 操作を合理化して手順を減らす
3. 拡張機能にモーダルビューを重ねて配置しない
4. 必要に応じて、機能拡張の目的を伝える画像を用意する
5. 時間がかかる捜査の進捗はメインアプリで伝える(ただし、タスクが完了したことを伝えるためだけに通知は使うべきでない)

## ボタン

即座にアクションを開始する。

<img src="../../../Image/Human Interface Guideline/Components/Menu/Button.png" width=80%>

### ベストプラクティス

1. ユーザーが使いやすいボタンにする(ボタンの周りに十分な余白を取る、ヒット領域を44✖︎44以上にする)
2. 目的が明確に伝わるボタンにする

### スタイル

1. 基本的に、ビューの中で最もよく使われるであろうアクションのボタンには、視認できるバックグラウンドを使う
2. 視覚的に目立たせるボタンの数は1つのビューにつき2つまでにする
3. 複数の選択肢の中で推奨するものを視覚的に差別化する場合は、サイズではなくスタイルを使用する

### コンテンツ

1. ボタンが実行する処理がすぐに分かるようなコンテンツにする
2. ユーザーがボタンのアクションを確実に連想できるアイコンがあるなら、そのアイコンを使う
3. アイコンより短いラベルの方がもっと明確に意図を伝達できる場面は、テキストを使う

### 役割

* 通常: 特別な意味を持たないボタン
* プライマリ: ユーザーが選択する可能性が最も高いデフォルトのボタン
* キャンセル: 現在のアクションをキャンセルするボタン
* 破壊的: データの破壊に繋がるアクションを実行するボタン

1. ユーザーが選択する可能性が最も高いボタンにはプライマリの役割を割り当てる
2. 最も選択される可能性が高くても破壊的なアクションを実行するボタンにはプライマリの役割を割り当てない

## コンテキストメニュー

項目に関連する機能に直接アクセスでき、インターフェイスを1つずつ辿る手間を省く。

<img src="../../../Image/Human Interface Guideline/Components/Menu/ContextMenu.png" width=80%>

### ベストプラクティス

1. コンテキストメニューに含める項目を選ぶ際には関連性の高さを重視する
2. メニュー項目の数を抑える
3. アプリ全体で一貫してコンテキストメニューに対応する
4. コンテキストメニューの項目はメインのインターフェイス経由でも常に利用できるようにする
5. 複数なメニューを扱うためにサブメニューを使用する場合は1階層までにする
6. 最もよく使うメニュー項目をユーザーの目にとまりやすい場所に配置する
7. キーボードショートカットはアプリのメインメニューに表示し、コンテキストメニューには表示しない
8. セパレータの使い方のベストプラクティスに従う
9. iOS、iPadOS、visionOSでは、データを破壊する可能性のあるコンテキストメニュー項目についてユーザーに警告する


## Dockメニュー(macOS)

Dockにあるアプリやゲームのアイコンを副ボタンでクリックすると表示する。

<img src="../../../Image/Human Interface Guideline/Components/Menu/DockMenu.png" width=80%>

### ベストプラクティス

1. Dockメニューのカスタム項目は他の場所からも利用できるようにする
2. Dockメニューにはなるべく有用性の高いカスタム項目を表示する

## 編集メニュー

コピー、選択、翻訳、調べるなどの関連コマンドを表示する。現在のビュー化で選択状態になっているコンテンツの変更。

<img src="../../../Image/Human Interface Guideline/Components/Menu/EditMenu.png" width=80%>

### ベストプラクティス

1. できるだけシステムが提供する編集メニューを使う
2. システムで定義されたユーザーがよく知っている操作で編集メニューを表示できるようにする
3. 現在の状況と関連性の高いコマンドを提示し、適用できないコマンドはメニューから取り除くか暗くして目立たなくする
4. システムが提供するコマンドに関連するカスタムコマンドはその近くに表示する
5. 必要な場合はユーザー編集不可テキストを選択してコピーできるようにする
6. 可能な限り取り消し/やり直しに対応する
7. 基本的に、編集メニューの項目と同じ機能を実行するコントロールを別に実装することは避ける
8. 必要に応じて、さまざまなタイプの削除コマンドの違いを明確化する

## メニュー

ユーザーが操作した時にオプションを表示し、アプリまたはゲーム内でスペースを効率的に使ってコマンドを表示する。

<img src="../../../Image/Human Interface Guideline/Components/Menu/Menu0.png" width=80%>

<img src="../../../Image/Human Interface Guideline/Components/Menu/Menu1.png" width=80%>

### ラベル

1. ユーザーがメニュー項目の機能を理解できるように、明瞭かつ簡潔に説明するラベルを記述する
2. ラベルの一貫性を確保するため、冠詞を含まない簡潔なスタイルと、タイトルスタイルの大文字化を使用する
3. アクションを実行する前にユーザーに追加情報を提供してもらう必要があるときは、メニュー項目のラベルの末尾に省略記法を付ける
4. メニュー項目が使用不可のときはそのことをユーザーに示す

### 切り替え項目

1. 機能を表示する項目と非表示にする項目が多数並ぶことを防ぐために、変化するタイトルの使用を検討する
2. 1対のメニュー項目を表示できるだけのスペースがない場合は、変化するラベルを使用する
3. 切り替え項目が現在有効な属性を表す場合はチェックマークの使用を検討する
4. 複数の切り替え属性を容易に削除できるメニュー項目を提供することを検討する
5. 1つの切り替えのメニュー項目ではなく1対の項目を表示した方が明瞭になる場合は、その表示を検討する

### 整理

1. 優先順位付けスキームに従ってメニュー項目を表示する
2. 論理的に関連しているコマンドのグループは、優先度が全て同じでなくても優先順位付けスキームによって分割しない
3. メニューの長さに注意する

### サブメニュー

1. サブメニューは控えめにする
2. サブメニューの深度と長さを制限する
3. 入れ子にしているメニュー項目が使用不可の場合もサブメニューを使用可能なままにしておく
4. メニュー項目のインデントよりもサブメニューの使用を優先する

## オーナメント

ウィンドウに関連するコントロールや情報を提示する。

<img src="../../../Image/Human Interface Guideline/Components/Menu/Ornaments.png" width=80%>

### ベストプラクティス

1. よく使うコントロールや情報を、ウィンドウの邪魔にならない一貫した位置に提示する時にはオーナメントの使用を検討する
2. 補助的なコントロールや情報は別個のウィンドウではなくオーナメントに表示するのが望ましい
3. 基本的にオーナメントは常時表示する
4. オーナメントの幅が、関連ウィンドウの幅を超えないようにする
5. オーナメントにはなるべく枠線なしのボタンを使う

## ポップアップボタン

択一的なオプションを含むメニューを表示する。

<img src="../../../Image/Human Interface Guideline/Components/Menu/PopupButton.png" width=80%>

### ベストプラクティス

1. ポップアップボタンは択一的なオプションや状態を含むフラットなリストを提示する場合に使用する
   * アクションのリストを表示する
   * 複数の項目を選択できるようにする
   * サブメニューを含める
2. デフォルトで選択する項目は実用的なものにする
3. ポップアップボタンを開く前にオプションの内容を推測できるようにする
4. スペースが限られていて、すべてのオプションを常に表示する必要がない場合は、ポップアップボタンの使用を検討する
5. ユーザーにとって有用と思われる追加項目は、必要に応じてポップアップボタンのメニューにカスタムオプションとして含める

## プルダウンボタン

ボタンの目的に直接関連する項目やアクションで構成されるメニューを表示する。

<img src="../../../Image/Human Interface Guideline/Components/Menu/PulldownButton.png" width=80%>

### ベストプラクティス

1. ボタンのアクションに直接関連するコマンドや項目を提示するために使う
  * ユーザーが追加したい項目を指定するためのメニューが呼び出される「追加」ボタン
  * ユーザーが並べ替えの基準となる属性を選択するためのメニューが呼び出される「並べ替え」ボタン
  * 直前の場所を開く代わりにユーザーが戻り先を選択できるメニューが呼びだされる「戻る」ボタン
2. ビューの全てのアクションを1つのプルダウンボタンに収容しない
3. 使いやすさを考えてメニューの長さのバランスをとる
4. 意味がより明確になる場合にのみ簡潔なメニュータイトルをつける
5. プルダウンボタンのメニュー項目が破壊的なアクションであることを伝え、ユーザーの意図を確認する
6. 必要であればメニュー項目にインターフェイスアイコンを付ける


## ツールバー

現在のビューに関連したよく使われるコマンドやコントロールにアクセスできる便利なコンポーネント。

<img src="../../../Image/Human Interface Guideline/Components/Menu/Toolbar.png" width=80%>

### ベストプラクティス

1. ユーザが実行する主なタスクに合わせてツールバーの項目を提供する
2. 表示するツールバーの項目を多くしすぎない
3. プラットフォームが対応している場合はツールバーの項目のグループ化を検討する
4. ツールバーの各項目の意味を必ず明確にする
5. なるべくシステムが提供するシンボルまたはインターフェイスアイコンを使う
6. ツールバーのすべての項目の見た目をなるべく揃える
7. 2つの状態が切り替わるようなツールバーの項目の場合は現在の状態が明確に伝わるようにする
8. iPadOSおよびmacOSのアプリではツールバーのカスタマイズを許可することを検討する
9. コンテンツがツールバーの下に入り込んだときにツールバーが半透明になる点に注意する

### iOS

1. ツールバー内でセグメントコントロールを使用しない
2. ツールバーのボタンが3つ以下の場合はシンボルではなく簡潔なテキストラベルを使って意味を明確にすることを検討する
3. ボタンが4つ以上の場合はシンボルを使ってスペースを節約することを検討する

### watchOS

1. スクロールするビューにのみ配置する
2. アプリの主要機能ではないが重要であるアクションに使用する
3. 全幅のツールバーボタンを1つだけ表示するのが望ましい
4. スクロールするツールバーボタンは、アプリの主要機能ではないが重要なアクションに使用する

### ツールバー or タブバー

* ツールバー
  * 項目の作成、項目のフィルタリング、コンテンツのマークアップなど、画面に関係するアクションを実行するために使用する

* タブバー
  * 時計アプリの「アラーム」、「ストップウォッチ」、「タイマー」タブなど、アプリのさまざまな領域間を移動する際に使います。